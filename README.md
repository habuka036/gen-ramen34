# ラーメン三銃士ジェネレータ

## これは何？

昔、http://www55.atpages.jp/triplog/pg/monthly/1405/ra-men34.php にて「ラーメン三銃士ジェネレータ」なるものがありました。

それはそれは、たいそうナイスな作りでしたが、使用している画像が著作権的にアウトだったためか、いつの間にか閉鎖されておりました。

「あぁ…ラーメン三銃士ジェネレータが欲しい」、寝ても覚めてもその想いはつのるばかり。

あるとき、神は言いました。「無いなら作ってしまえホーホケキョ」。

しかし、@habuka036 にはアプリ開発能力もコーディング能力もわからぬ。

わからないまま作ってみたのがこの「なんちゃってラーメン三銃士ジェネレータ」です。

つまり、こんな画像を生成します。

![ラーメン三銃士](https://github.com/habuka036/gen-ramen34/blob/ramen34.png)

画像は[いらすとや](https://www.irasutoya.com/)さんから拝借し、某料理漫画の著作権には触れないつもりで作りましたが…もしかしてコマ割とかセリフとかもアウトだったりする？

## ファイルの説明

* config.json
  * 使用するフォントのパスやフォントサイズの設定
  * 使用する元画像の設定
  * 画像の吹き出しの台詞の位置に関する情報と、吹き出し内の当該行の文字数の設定
    * 設定されている文字数を超えた文字が後述の quotes.json の台詞に設定されていると、勝手にフォントサイズを下げて、なるべく吹き出し内に収めようとします。

* quotes.json
  * 吹き出し内の台詞の内容を設定します。
  * 見てもらえればわかると思いますが、吹き出し1つごとに配列になっていて、さらに吹き出し内の各行も配列になっています。

* the.three.ramen.musketters.png
  * 一応著作権に触れないような元画像にしたつもりですが…

## 事前準備

* config.json の font_name に使用するフォントのファイル名(パス含む)を指定してください。
* もしくは同階層にフォントファイルを配置してください。
  * 自分は[源暎アンチック](https://okoneya.jp/font/)をダウンロードして、同階層に配置するようにしてます。

## 実行方法

go がインストールされている環境であれば

```
$ go get github.com/fogleman/gg
$ CONFIG_FILE=config.json QUOTES_FILE=quotes.json OUTPUT_FILE=output.png go run gen-ramen34.go
```

で実行できます。

## TO DO

* そのうち、 GoReleaser と GitHub Action でバイナリを自動的にリリースできるようにします。
  * (その前にもっとちゃんとしたコード&テストコード書かないと…)
* いつか、かつての「ラーメン三銃士ジェネレータ」のように Web アプリとしてリリースしたい…




